<% provide(:title, 'Authors') %>
<% if !flash[:success].blank? %>
  <div id="error_explanation">
    <div class="alert alert-danger">
      <%= flash[:success]%>.
    </div>
   
  </div>
<% end %>
 
<h1>List of all Books</h1>

<div class="row">
  <div class="col-md-6 col-md-offset-3">
    <%= link_to 'Add new Book', :action => 'new' %>
    
    <table class="table table-bordered">
      <tr>
        <th>Title</th>
        <th>Authors Name</th>
        <th>ISBN</th>
        <th>Description</th>
        <th>Price</th>
        <th>Actions</th>
      </tr>
    <% @books.each do |book| %>
      <tr>
      
        <td><%= book.title %></td>
        <td><%= book.authors.collect{|author| author.name }.join(', ') %></td>
        <td><%= book.isbn %></td>
        <td><%= book.description %></td>
        <td><%= book.price %></td>
        
        <td class="actions"><%= link_to("Show", {:action => 'show', :id => book.id}) %> |
            <%= link_to("Edit",{:action => 'edit', :id => book.id}) %> |
            <%= link_to("Delete", book, method: :delete, data: {confirm: 'Are you sure you want to delete this book?'}) %>
        </td>
      </tr>
    <% end %>
    </table>


    
   
    
  </div>
</div>